Timeline
========

Service Name: ``Services::TIMELINE``

This service provides an instance of ``Baleen\Migrations\Timeline`` and sets its Comparator (see next section). Since
this service almost exclusively relies on other services in the framework, migration libraries will hardly ever need to
replace this service.

By default a special factory is used to instantiate the Timeline. The factory is an instance of
``Baleen\Migrations\Timeline\TimelineFactory``. When instantiating a Timeline, the factory creates a collection of
available migrations by "enriching" the migrations available in the Repository with the state data available from the
Storage. In the process, it also makes sure that there's no missing migration files in the Repository (e.g. a version
that is reported as migrated in the Storage but that has no corresponding file in the Repository).

Comparator
----------

The comparator is simply an invokable class that receives two Versions as arguments by implementing
``Baleen\Migrations\Version\Comparator\ComparatorInterface``. The reason its a class is that we preferred to make sure
we had control over the comparator's signature - if we had accepted closures we would have forced implementations to
make many unnecessary argument type-checks.

When invoked, the comparator must return an integer less than, equal to, or greater than 0 (zero) in order to indicate
if the first version is earlier than, equal to, or later than the second version. By earlier/later we refer to the order
in which the versions should be executed.

The default comparator used by Baleen CLI is an instance of ``Baleen\Migrations\Version\Comparator\DefaultComparator``.
